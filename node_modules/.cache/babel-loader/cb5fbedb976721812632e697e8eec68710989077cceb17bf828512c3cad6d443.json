{"ast":null,"code":"import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nlet initialState = {\n  productList: [],\n  product: null,\n  isLoading: false,\n  error: null\n};\nconst getProducts = createAsyncThunk('product/fetchAll', async (searchQuery, thunkApi) => {\n  try {\n    let url = `https://my-json-server.typicode.com/geunseonkim/hnm-react-router-practice/products?q=${searchQuery}`;\n    let response = await fetch(url);\n    return await response.json();\n  } catch (error) {\n    thunkApi.rejectWithValue(error.message);\n  }\n});\n\n// function productReducer(state=initialState, action) {\n//     let {type, payload} = action\n//     switch(type) {\n//         case \"GET_PRODUCT_SUCCESS\":\n//             return {...state, productList: payload.data}\n\n//         case \"GET_DETAIL_SUCCESS\":\n//             return {...state, product: payload.data}\n\n//         default:\n//             return {...state}\n//     }\n// }\n\n// export default productReducer\n\nconst productSlice = createSlice({\n  name: \"product\",\n  initialState,\n  reducers: {\n    // getAllProducts(state, action){\n    //     state.productList= action.payload.data\n    // },\n    getSingleProduct(state, action) {\n      state.product = action.payload.data;\n    }\n  },\n  extraReducers: builder => {\n    buildQueries.addCase(getProducts.pending, state => {\n      state.isLoading = true;\n    }).addCase(getProducts.fulfilled, (state, action) => {\n      state.isLoading = false;\n      state.productList = action.payload;\n    }).addCase(getProducts.rejected, (state, action) => {\n      state.isLoading = false;\n      state.error = action.payload;\n    });\n  }\n});\nconsole.log(\"ppp\", productSlice);\nexport const productActions = productSlice.actions;\nexport default productSlice.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","initialState","productList","product","isLoading","error","getProducts","searchQuery","thunkApi","url","response","fetch","json","rejectWithValue","message","productSlice","name","reducers","getSingleProduct","state","action","payload","data","extraReducers","builder","buildQueries","addCase","pending","fulfilled","rejected","console","log","productActions","actions","reducer"],"sources":["/Users/geunseonkim/react/hnm-redux-middleware/src/redux/reducers/productReducer.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\"\nlet initialState={\n    productList: [],\n    product: null,\n    isLoading: false,\n    error: null,\n}\n\nconst getProducts = createAsyncThunk('product/fetchAll',async(searchQuery,thunkApi)=>{\n    try{\n        let url = `https://my-json-server.typicode.com/geunseonkim/hnm-react-router-practice/products?q=${searchQuery}`;\n        let response = await fetch(url)\n        return await response.json();\n    }catch(error){\n        thunkApi.rejectWithValue(error.message)\n    }\n})\n\n// function productReducer(state=initialState, action) {\n//     let {type, payload} = action\n//     switch(type) {\n//         case \"GET_PRODUCT_SUCCESS\":\n//             return {...state, productList: payload.data}\n\n//         case \"GET_DETAIL_SUCCESS\":\n//             return {...state, product: payload.data}\n\n//         default:\n//             return {...state}\n//     }\n// }\n\n// export default productReducer\n\nconst productSlice = createSlice({\n    name:\"product\",\n    initialState,\n    reducers: {\n        // getAllProducts(state, action){\n        //     state.productList= action.payload.data\n        // },\n        getSingleProduct(state, action){\n            state.product= action.payload.data\n        },\n    },\n    extraReducers: (builder)=>{\n        buildQueries.addCase(getProducts.pending,(state)=>{\n            state.isLoading=true\n        })\n        .addCase(getProducts.fulfilled,(state,action)=>{\n            state.isLoading=false\n            state.productList = action.payload;\n        })\n        .addCase(getProducts.rejected,(state, action)=>{\n            state.isLoading=false\n            state.error=action.payload\n        })\n    }\n})\n\nconsole.log(\"ppp\", productSlice);\n\nexport const productActions = productSlice.actions\nexport default productSlice.reducer;"],"mappings":"AAAA,SAASA,gBAAgB,EAAEC,WAAW,QAAQ,kBAAkB;AAChE,IAAIC,YAAY,GAAC;EACbC,WAAW,EAAE,EAAE;EACfC,OAAO,EAAE,IAAI;EACbC,SAAS,EAAE,KAAK;EAChBC,KAAK,EAAE;AACX,CAAC;AAED,MAAMC,WAAW,GAAGP,gBAAgB,CAAC,kBAAkB,EAAC,OAAMQ,WAAW,EAACC,QAAQ,KAAG;EACjF,IAAG;IACC,IAAIC,GAAG,GAAI,wFAAuFF,WAAY,EAAC;IAC/G,IAAIG,QAAQ,GAAG,MAAMC,KAAK,CAACF,GAAG,CAAC;IAC/B,OAAO,MAAMC,QAAQ,CAACE,IAAI,CAAC,CAAC;EAChC,CAAC,QAAMP,KAAK,EAAC;IACTG,QAAQ,CAACK,eAAe,CAACR,KAAK,CAACS,OAAO,CAAC;EAC3C;AACJ,CAAC,CAAC;;AAEF;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA,MAAMC,YAAY,GAAGf,WAAW,CAAC;EAC7BgB,IAAI,EAAC,SAAS;EACdf,YAAY;EACZgB,QAAQ,EAAE;IACN;IACA;IACA;IACAC,gBAAgBA,CAACC,KAAK,EAAEC,MAAM,EAAC;MAC3BD,KAAK,CAAChB,OAAO,GAAEiB,MAAM,CAACC,OAAO,CAACC,IAAI;IACtC;EACJ,CAAC;EACDC,aAAa,EAAGC,OAAO,IAAG;IACtBC,YAAY,CAACC,OAAO,CAACpB,WAAW,CAACqB,OAAO,EAAER,KAAK,IAAG;MAC9CA,KAAK,CAACf,SAAS,GAAC,IAAI;IACxB,CAAC,CAAC,CACDsB,OAAO,CAACpB,WAAW,CAACsB,SAAS,EAAC,CAACT,KAAK,EAACC,MAAM,KAAG;MAC3CD,KAAK,CAACf,SAAS,GAAC,KAAK;MACrBe,KAAK,CAACjB,WAAW,GAAGkB,MAAM,CAACC,OAAO;IACtC,CAAC,CAAC,CACDK,OAAO,CAACpB,WAAW,CAACuB,QAAQ,EAAC,CAACV,KAAK,EAAEC,MAAM,KAAG;MAC3CD,KAAK,CAACf,SAAS,GAAC,KAAK;MACrBe,KAAK,CAACd,KAAK,GAACe,MAAM,CAACC,OAAO;IAC9B,CAAC,CAAC;EACN;AACJ,CAAC,CAAC;AAEFS,OAAO,CAACC,GAAG,CAAC,KAAK,EAAEhB,YAAY,CAAC;AAEhC,OAAO,MAAMiB,cAAc,GAAGjB,YAAY,CAACkB,OAAO;AAClD,eAAelB,YAAY,CAACmB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}